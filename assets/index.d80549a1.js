import{r as m,j as x,d as f,M as C,l as Y,v as A,R as j,a as I}from"./vendor.2e633306.js";const O=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};O();function M(t,e){try{if(!t)throw"No data received";const r=JSON.stringify(t);return localStorage.setItem(e,r),!0}catch(r){return console.error(r),!1}}function $(t){const e=(()=>{try{return JSON.parse(localStorage.getItem(t))}catch(r){return console.error(r),null}})();return e||(M([]),[])}function w(t){const[e,r]=m.exports.useState(()=>$(t)),c=m.exports.useCallback(o=>{!M(o,t)||r(o)},[t,e,r]);return[e,c]}const L="_calendar_14p2p_1",R="_grid_14p2p_18",B="_weekdays_14p2p_31",F="_dates_14p2p_32",T="_month_14p2p_56";var l={calendar:L,grid:R,weekdays:B,dates:F,"title-container":"_title-container_14p2p_46",month:T,delete:"_delete_14p2p_66"};function p(...t){return!Array.isArray(t)||!t.length?"":t.filter(e=>!!e).join(" ")}const E="_button_1idbg_1";var S={button:E,default:"_default_1idbg_11"};const s=x.exports.jsx,y=x.exports.jsxs;function N({children:t,text:e,className:r,value:c,disabled:o,onClick:n,type:a="button"}){return s("button",{className:p(S.button,r||S.default),value:c||e,onClick:i=>n&&n(i),disabled:o,type:a,children:t||e})}const J="_date_1gef9_1",P="_current_1gef9_20",W="_completed_1gef9_24";var b={date:J,current:P,completed:W};function q({date:t,value:e,completed:r,onClick:c}){return s(N,{text:t.date(),value:e,onClick:c,className:p(b.date,r?b.completed:null,f().format("YYYYMMDD")===f(t).format("YYYYMMDD")?b.current:null),disabled:f().month()!==f(t).month()})}const z="_button_fudid_1";var G={button:z};function H({className:t,value:e,disabled:r,onClick:c}){return s(N,{className:p(G.button,t||null),value:e,disabled:r,onClick:c,children:s(C,{})})}function Q(t){const e=f().month(t).hour(0).minute(0).second(0),r=e.date(1).day(1),o=e.date(e.daysInMonth()).day(7).diff(r,"day")||30;return Y.times(o,n=>{const a=n?r.add(n,"day"):r;return{date:a,value:a.format("YYYY-MM-DD")}})}function U({id:t,title:e,month:r,completed:c,onClick:o,onDelete:n}){const[a]=m.exports.useState(typeof r!="number"||Number.isNaN(r)?f().month():r),[i]=m.exports.useState(Q(a));function u(h){const{value:d}=h.target;!i.find(k=>k.value===d)||o&&o({id:t,value:d})}function _(){return y("div",{className:p(l["title-container"]),children:[s("h4",{className:l.month,children:f().month(a).format("MMMM")}),s("h5",{className:l.title,children:e})]})}function v(){return s("div",{className:p(l.grid,l.weekdays),children:["M","T","W","T","F","S","S"].map((h,d)=>s("h5",{children:h},`weekday_header_${d}`))})}function D(){return s("div",{className:p(l.grid,l.dates),children:i.map(({date:h,value:d})=>s(q,{date:h,value:d,completed:c.includes(d),onClick:u},d))})}return y("div",{className:l.calendar,children:[_(),v(),D(),s(H,{className:l.delete,onClick:()=>n&&n({id:t})})]})}const V="_form_1hn0l_1",X="_button_1hn0l_10",Z="_input_1hn0l_11";var g={form:V,button:X,input:Z};function K({placeholder:t,onSubmit:e}){const[r,c]=m.exports.useState(""),o=a=>{c(a.target.value)},n=a=>{a.preventDefault();const i=r.trim();!i.length||(e&&e(i),c(""))};return y("form",{className:g.form,onSubmit:n,autoComplete:"off",children:[s("input",{className:g.input,id:"input",type:"text",onChange:o,value:r,placeholder:t||""}),s(N,{className:g.button,type:"submit",text:"Submit"})]})}function tt(t){return{id:A(),title:t,month:f().month(),completed:[]}}function et(){const[t,e]=w("activity-tracker-stored-activities"),r=m.exports.useCallback(n=>{e([...t,tt(n)])},[t,e]),c=m.exports.useCallback(({id:n,value:a})=>{const i=t.find(v=>v.id===n);if(!i)return;const{completed:u}=i,_=u.indexOf(a);_<0?u.push(a):u.splice(_,1),i.completed=[...u],e([...t])},[t,e]),o=m.exports.useCallback(({id:n})=>{const a=t.findIndex(i=>i.id===n);a<0||(t.splice(a,1),e([...t]))},[t,e]);return y("div",{className:"App",children:[s("header",{className:"content",children:s(K,{placeholder:"Add an activity",onSubmit:r})}),s("main",{className:"content",children:t.map(({id:n,title:a,month:i,completed:u})=>s(U,{id:n,title:a,month:i,completed:u,onClick:c,onDelete:o},n))})]})}j.render(s(I.StrictMode,{children:s(et,{})}),document.getElementById("root"));
